{% extends 'base.html' %}

{% block content %}
<div class="container">
<h4>Services:</h4>
<!-- ######## Main Service ########-->
  <div id="main_service_space" class="form-group row">
    <div class="col">
    <label for="main-switch" class="col-4 col-form-label col-form-label-lg">Main service</label>
    <input id="main-switch" type="checkbox" data-toggle="toggle" data-onstyle="success" data-offstyle="outline-secondary">
    <button class="btn btn-secondary" type="button" data-toggle="collapse" data-target="#main_service_options" aria-expanded="false" aria-controls="main_service_options">Options</button>
    </div>
  </div>
        <form id="main_service_options" class="collapse">
            {% for setting in main_settings %}
                <div class="form-group row">
                {% for key, value in setting.items() %}
                    <label for="{{ key }}" class="col-sm-3 col-form-label">{{ key }}: </label>
                    <div class="col-sm-9">
                        <input id="{{ key }}" type="text" class="form-control" value="{{ value|e }}" readonly>
                    </div>
                {% endfor %}
                </div>
            {% endfor %}
        </form>

<!-- ######## Ntrip Service ########-->
  <div id="ntrip_service_space" class="form-group row">
    <div class="col">
    <label for="ntrip-switch" class="col-4 col-form-label col-form-label-lg">Ntrip service</label>
    <input id="ntrip-switch" type="checkbox" data-toggle="toggle" data-onstyle="success" data-offstyle="outline-secondary">
    <button class="btn btn-secondary" type="button" data-toggle="collapse" data-target="#ntrip_service_options" aria-expanded="false" aria-controls="ntrip_service_options">Options</button>
    </div>
  </div>
    <form id="ntrip_service_options" class="collapse">
        {% for setting in ntrip_settings %}
            <div class="form-group row">
            {% for key, value in setting.items() %}
                <label for="{{ key }}" class="col-sm-3 col-form-label">{{ key }}: </label>
                <div class="col-sm-9">
                    <input id="{{ key }}" type="text" class="form-control" value="{{ value|e }}" readonly>
                </div>
            {% endfor %}
            </div>
        {% endfor %}
    </form>

  <!-- ######## RTCM Service ########-->
  <div id="rtcm_svr__service_space" class="form-group row">
    <div class="col">
    <label for="rtcm_svr-switch" class="col-4 col-form-label col-form-label-lg">Rtcm server service</label>
    <input id="rtcm_svr-switch" type="checkbox" data-toggle="toggle" data-onstyle="success" data-offstyle="outline-secondary">
    <button class="btn btn-secondary" type="button" data-toggle="collapse" data-target="#rtcm_svr_service_options" aria-expanded="false" aria-controls="rtcm_svr_service_options">Options</button>
    </div>
  </div>
    <form id="rtcm_svr_service_options" class="collapse">
        {% for setting in rtcm_svr_settings %}
            <div class="form-group row">
            {% for key, value in setting.items() %}
                <label for="{{ key }}" class="col-sm-3 col-form-label">{{ key }}: </label>
                <div class="col-sm-9">
                    <input id="{{ key }}" type="text" class="form-control" value="{{ value|e }}" readonly>
                </div>
            {% endfor %}
            </div>
        {% endfor %}
    </form>

  <!-- ######## File Service ########-->
  <div id="file_service_space" class="form-group row">
      <div class="col">
    <label for="file-switch" class="col-4 col-form-label col-form-label-lg">File service</label>
    <input id="file-switch" type="checkbox" data-toggle="toggle" data-onstyle="success" data-offstyle="outline-secondary">
    <button class="btn btn-secondary" type="button" data-toggle="collapse" data-target="#file_service_options" aria-expanded="false" aria-controls="file_service_options">Options</button>
  </div>
  </div>
    <form id="file_service_options" class="collapse">
        {% for setting in file_settings %}
            <div class="form-group row">
            {% for key, value in setting.items() %}
                <label for="{{ key }}" class="col-sm-3 col-form-label">{{ key }}: </label>
                <div class="col-sm-9">
                    <input id="{{ key }}" type="text" class="form-control" value="{{ value|e }}" readonly>
                </div>
            {% endfor %}
            </div>
        {% endfor %}
    </form>
</div>
<div id="system_settings" class="container">
    <h4> System Settings:</h4>
    <div class="row py-1">
        <div class="col-sm-4">
            <span class="col-sm-3">Rtkbase {{ g.version }}</span>
        </div>
        <div class="col-sm-8">
            <button id="check_update_button" class="btn btn-secondary" type="button">Check update</button>
        </div>
    </div>
    <div class="row py-1">
      <div class="col-sm-4">
        <span class="col-sm-3">Power:</span>
      </div>
      <div class="col-sm-8">
          <button id="reboot-button" class="btn btn-secondary" type="button">Reboot</button>
          <button id="shutdown-button" class="btn btn-secondary" type="button">Shutdown</button>
      </div>
  </div>
    
</div>
<!-- The update  Modal dialog box-->
<div class="modal" id="updateModal">
    <div class="modal-dialog">
      <div class="modal-content">     
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">Update</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>       
        <!-- Modal body -->
        <div class="modal-body text-center ">          
        </div>       
        <!-- Modal footer -->
        <div class="modal-footer mx-auto">
          <button id="start-update-button" type="button" class="btn btn-success" disabled>Update</button>
          <button id="cancel-button" type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>         
        </div>      
      </div>
    </div>
  </div>

  <!-- The reboot  Modal dialog box-->
<div class="modal" id="rebootModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Reboot</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body text-center ">Reboot the device. Are you sure?          
      </div>
      <!-- Modal footer -->
      <div class="modal-footer mx-auto">
        <button id="confirm-reboot-button" type="button" class="btn btn-danger">Reboot</button>
        <button id="cancel-button" type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
      </div>     
    </div>
  </div>
</div>

<!-- The shutdown Modal dialog box-->
<div class="modal" id="shutdownModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Shutdown</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body text-center ">Shutdown the device. Are you sure?          
      </div>
      <!-- Modal footer -->
      <div class="modal-footer mx-auto">
        <button id="confirm-shutdown-button" type="button" class="btn btn-danger">Shutdown</button>
        <button id="cancel-button" type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
      </div>     
    </div>
  </div>
</div>


{% endblock %}


{% block scripts %}
{{super()}}
<script type="text/javascript" src="{{ url_for('static', filename='settings.js') }}" charset="utf-8"></script>
{% endblock %}